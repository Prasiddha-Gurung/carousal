<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Swagger UI</title>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Source+Code+Pro:300,600|Titillium+Web:400,600,700" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.2.2/swagger-ui.css" >
  <style>
    html
    {
      box-sizing: border-box;
      overflow: -moz-scrollbars-vertical;
      overflow-y: scroll;
    }
    *,
    *:before,
    *:after
    {
      box-sizing: inherit;
    }

    body {
      margin:0;
      background: #fafafa;
    }
  </style>
</head>
<body>

<div id="swagger-ui"></div>
 <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="position:absolute;width:0;height:0">
  <defs>
    <symbol viewBox="0 0 20 20" id="unlocked">
          <path d="M15.8 8H14V5.6C14 2.703 12.665 1 10 1 7.334 1 6 2.703 6 5.6V6h2v-.801C8 3.754 8.797 3 10 3c1.203 0 2 .754 2 2.199V8H4c-.553 0-1 .646-1 1.199V17c0 .549.428 1.139.951 1.307l1.197.387C5.672 18.861 6.55 19 7.1 19h5.8c.549 0 1.428-.139 1.951-.307l1.196-.387c.524-.167.953-.757.953-1.306V9.199C17 8.646 16.352 8 15.8 8z"></path>
    </symbol>

    <symbol viewBox="0 0 20 20" id="locked">
      <path d="M15.8 8H14V5.6C14 2.703 12.665 1 10 1 7.334 1 6 2.703 6 5.6V8H4c-.553 0-1 .646-1 1.199V17c0 .549.428 1.139.951 1.307l1.197.387C5.672 18.861 6.55 19 7.1 19h5.8c.549 0 1.428-.139 1.951-.307l1.196-.387c.524-.167.953-.757.953-1.306V9.199C17 8.646 16.352 8 15.8 8zM12 8H8V5.199C8 3.754 8.797 3 10 3c1.203 0 2 .754 2 2.199V8z"/>
    </symbol>

    <symbol viewBox="0 0 20 20" id="close">
      <path d="M14.348 14.849c-.469.469-1.229.469-1.697 0L10 11.819l-2.651 3.029c-.469.469-1.229.469-1.697 0-.469-.469-.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-.469-.469-.469-1.228 0-1.697.469-.469 1.228-.469 1.697 0L10 8.183l2.651-3.031c.469-.469 1.228-.469 1.697 0 .469.469.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c.469.469.469 1.229 0 1.698z"/>
    </symbol>

    <symbol viewBox="0 0 20 20" id="large-arrow">
      <path d="M13.25 10L6.109 2.58c-.268-.27-.268-.707 0-.979.268-.27.701-.27.969 0l7.83 7.908c.268.271.268.709 0 .979l-7.83 7.908c-.268.271-.701.27-.969 0-.268-.269-.268-.707 0-.979L13.25 10z"/>
    </symbol>

    <symbol viewBox="0 0 20 20" id="large-arrow-down">
      <path d="M17.418 6.109c.272-.268.709-.268.979 0s.271.701 0 .969l-7.908 7.83c-.27.268-.707.268-.979 0l-7.908-7.83c-.27-.268-.27-.701 0-.969.271-.268.709-.268.979 0L10 13.25l7.418-7.141z"/>
    </symbol>


    <symbol viewBox="0 0 24 24" id="jump-to">
      <path d="M19 7v4H5.83l3.58-3.59L8 6l-6 6 6 6 1.41-1.41L5.83 13H21V7z"/>
    </symbol>

    <symbol viewBox="0 0 24 24" id="expand">
      <path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"/>
    </symbol>
  </defs>
 </svg>

<script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.2.2/swagger-ui-bundle.js"> </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.2.2/swagger-ui-standalone-preset.js"> </script>
<script>
window.onload = function() {

  var spec = {"openapi": "3.0.0", "servers": [{"url": "https://advanced-pricing.svc.staging.tfw.io/api"}], "info": {"title": "Advanced Pricing", "description": "Advanced Pricing is a module for landlords that can be used to configure price profiles for their objects. Beside a base price configuration (also used as fallback price) it's possible to configure multiple divergent period specific prices.", "version": "0.0.1"}, "tags": [{"name": "auth", "description": "Everything about authentication"}, {"name": "charge", "description": "Everything about the charges"}, {"name": "currency", "description": "Everything about the currencies"}, {"name": "event", "description": "Everything about incoming events"}, {"name": "listing", "description": "Everything about the listings"}, {"name": "listing charge", "description": "Everything about the charges of a listing"}, {"name": "listing profile", "description": "Everything about the profiles of a listing"}, {"name": "listing profile discount", "description": "Everything about the discounts of a profile"}, {"name": "listing visitors-tax", "description": "Everything about the visitors taxes of a listing"}, {"name": "season", "description": "Everything about the seasons"}], "paths": {"/authenticate": {"head": {"tags": ["auth"], "operationId": "authenticate", "summary": "Indicates user's logged-in status", "description": "Indicates if a logged-in user was found or not.", "responses": {"204": {"$ref": "#/components/responses/NoContent"}, "401": {"$ref": "#/components/responses/Unauthorized"}}}}, "/charges": {"get": {"tags": ["charge"], "operationId": "charges.index", "summary": "Show charges", "description": "Show a list of all available charges.", "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/ChargeSetup"}}}}}}}}, "/charges/{type}": {"get": {"tags": ["charge"], "operationId": "charges.show", "summary": "Show charge details", "description": "Show the details of a specific charge.", "parameters": [{"$ref": "#/components/parameters/ChargeType"}], "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ChargeSetup"}}}}, "404": {"$ref": "#/components/responses/NotFound"}}}}, "/currencies": {"get": {"tags": ["currency"], "operationId": "currencies.index", "summary": "Show currencies", "description": "Show a list of all available currencies.", "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/CurrencyShortcut"}}}}}}}}, "/events/listing-basic-data-changed": {"post": {"tags": ["event"], "operationId": "events.listing.basic_data", "summary": "Incoming event when a listings basic data has changed", "description": "Incoming event when a listings basic data has changed.", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/EventRequestBody"}}}}, "responses": {"200": {"$ref": "#/components/responses/Success"}, "204": {"$ref": "#/components/responses/NoContent"}, "404": {"$ref": "#/components/responses/NotFound"}, "422": {"$ref": "#/components/responses/UnprocessableEntity"}}}}, "/events/listing-capacity-changed": {"post": {"tags": ["event"], "operationId": "events.capacity", "summary": "Incoming event when a listings capacity has changed", "description": "Incoming event when a listings capacity has changed.", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/EventRequestBody"}}}}, "responses": {"200": {"$ref": "#/components/responses/Success"}, "204": {"$ref": "#/components/responses/NoContent"}, "404": {"$ref": "#/components/responses/NotFound"}, "422": {"$ref": "#/components/responses/UnprocessableEntity"}}}}, "/listings": {"post": {"tags": ["listing"], "operationId": "listings.store", "summary": "Create a new listing", "description": "Create a new listing with the given data.", "requestBody": {"content": {"application/json": {"schema": {"type": "object", "required": ["id", "currency", "capacity", "show_vat", "visitors_tax_on_site", "pets_allowed"], "properties": {"id": {"$ref": "#/components/schemas/PrimaryKey"}, "currency": {"$ref": "#/components/schemas/CurrencyShortcut"}, "capacity": {"$ref": "#/components/schemas/Capacity"}, "vat": {"$ref": "#/components/schemas/VAT"}, "show_vat": {"$ref": "#/components/schemas/Boolean"}, "visitors_tax_on_site": {"$ref": "#/components/schemas/Boolean"}, "pets_allowed": {"$ref": "#/components/schemas/Boolean"}}}}}, "required": true}, "responses": {"201": {"description": "Created", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Listing"}}}}, "422": {"$ref": "#/components/responses/UnprocessableEntity"}}}}, "/listings/{listingId}": {"get": {"tags": ["listing"], "operationId": "listings.index", "summary": "Show listing details", "description": "Show all available details of a listing.", "parameters": [{"$ref": "#/components/parameters/ListingId"}], "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Listing"}}}}, "404": {"$ref": "#/components/responses/NotFound"}}}, "patch": {"tags": ["listing"], "operationId": "listings.update", "summary": "Update a listing", "description": "Update a listing with the given data.", "parameters": [{"$ref": "#/components/parameters/ListingId"}], "requestBody": {"content": {"application/json": {"schema": {"type": "object", "properties": {"currency": {"$ref": "#/components/schemas/CurrencyShortcut"}, "capacity": {"$ref": "#/components/schemas/Capacity"}, "vat": {"$ref": "#/components/schemas/VAT"}, "show_vat": {"$ref": "#/components/schemas/Boolean"}, "visitors_tax_on_site": {"$ref": "#/components/schemas/Boolean"}, "pets_allowed": {"$ref": "#/components/schemas/Boolean"}}}}}}, "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Listing"}}}}, "422": {"$ref": "#/components/responses/UnprocessableEntity"}}}}, "/listings/{listingId}/charges": {"get": {"tags": ["listing charge"], "operationId": "listings.charges.index", "summary": "Show charges of a listing", "description": "Show all charges of a listing.", "parameters": [{"$ref": "#/components/parameters/ListingId"}], "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/Charge"}}}}}, "404": {"$ref": "#/components/responses/NotFound"}}}, "post": {"tags": ["listing charge"], "operationId": "listings.charges.create", "summary": "Create charge for a listing", "description": "Create a new charge for a listing.", "parameters": [{"$ref": "#/components/parameters/ListingId"}], "requestBody": {"content": {"application/json": {"schema": {"type": "object", "required": ["type", "billing", "on_site", "optional"], "properties": {"type": {"$ref": "#/components/schemas/ChargeType"}, "billing": {"$ref": "#/components/schemas/ChargeBilling"}, "price": {"$ref": "#/components/schemas/Price"}, "on_site": {"$ref": "#/components/schemas/Boolean"}, "optional": {"$ref": "#/components/schemas/Boolean"}}}}}}, "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Charge"}}}}, "404": {"$ref": "#/components/responses/NotFound"}, "409": {"$ref": "#/components/responses/Conflict"}, "422": {"$ref": "#/components/responses/UnprocessableEntity"}}}}, "/listings/{listingId}/charges/{type}": {"get": {"tags": ["listing charge"], "operationId": "listings.charges.show", "summary": "Show charge of a listing", "description": "Show a specific charge of a listing.", "parameters": [{"$ref": "#/components/parameters/ListingId"}, {"$ref": "#/components/parameters/ChargeType"}], "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Charge"}}}}, "404": {"$ref": "#/components/responses/NotFound"}}}, "patch": {"tags": ["listing charge"], "operationId": "listings.charges.update", "summary": "Update charge of a listing", "description": "Update a specific charge of a listing.", "parameters": [{"$ref": "#/components/parameters/ListingId"}, {"$ref": "#/components/parameters/ChargeType"}], "requestBody": {"content": {"application/json": {"schema": {"type": "object", "properties": {"billing": {"$ref": "#/components/schemas/ChargeBilling"}, "price": {"$ref": "#/components/schemas/Price"}, "on_site": {"$ref": "#/components/schemas/Boolean"}, "optional": {"$ref": "#/components/schemas/Boolean"}}}}}}, "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Charge"}}}}, "404": {"$ref": "#/components/responses/NotFound"}, "409": {"$ref": "#/components/responses/Conflict"}, "422": {"$ref": "#/components/responses/UnprocessableEntity"}}}, "delete": {"tags": ["listing charge"], "operationId": "listings.charges.delete", "summary": "Delete charge from a listing", "description": "Delete a specific charges from a listing.", "parameters": [{"$ref": "#/components/parameters/ListingId"}, {"$ref": "#/components/parameters/ChargeType"}], "responses": {"204": {"$ref": "#/components/responses/NoContent"}, "404": {"$ref": "#/components/responses/NotFound"}}}}, "/listings/{listingId}/publish": {"post": {"tags": ["listing"], "operationId": "listings.publish", "summary": "Publish price profile for a listing", "description": "Trigger the publishing of a price profile for a listing.", "parameters": [{"$ref": "#/components/parameters/ListingId"}], "responses": {"204": {"$ref": "#/components/responses/NoContent"}, "404": {"$ref": "#/components/responses/NotFound"}, "409": {"$ref": "#/components/responses/Conflict"}, "422": {"$ref": "#/components/responses/UnprocessableEntity"}}}}, "/listings/{listingId}/simulate": {"head": {"tags": ["listing"], "operationId": "listings.simulation_available", "summary": "Indicates listings calculation simulation availability", "description": "Indicates if the calculation simulation is available for a listing.", "parameters": [{"$ref": "#/components/parameters/ListingId"}], "responses": {"204": {"$ref": "#/components/responses/NoContent"}, "404": {"$ref": "#/components/responses/NotFound"}, "423": {"$ref": "#/components/responses/Locked"}}}, "post": {"tags": ["listing"], "operationId": "listings.simulate", "summary": "Simulate calculation for a listing", "description": "Simulate calculation for a listing.", "parameters": [{"$ref": "#/components/parameters/ListingId"}], "requestBody": {"content": {"application/json": {"schema": {"type": "object", "required": ["from", "to", "adults"], "properties": {"from": {"$ref": "#/components/schemas/Date"}, "to": {"$ref": "#/components/schemas/Date"}, "adults": {"$ref": "#/components/schemas/Integer"}, "children": {"$ref": "#/components/schemas/Integer"}, "pets": {"$ref": "#/components/schemas/Boolean"}}}}}}, "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Calculation"}}}}, "404": {"$ref": "#/components/responses/NotFound"}, "409": {"$ref": "#/components/responses/Conflict"}, "422": {"$ref": "#/components/responses/UnprocessableEntity"}}}}, "/listings/{listingId}/profiles": {"get": {"tags": ["listing profile"], "operationId": "listings.profiles.index", "summary": "Show season profiles of a listing", "description": "Show all available season profiles of a listing.", "parameters": [{"$ref": "#/components/parameters/ListingId"}], "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/SeasonalProfile"}}}}}, "404": {"$ref": "#/components/responses/NotFound"}}}, "post": {"tags": ["listing profile"], "operationId": "listings.profiles.store", "summary": "Create new profile for a listing", "description": "Create a new profile for a listing.", "parameters": [{"$ref": "#/components/parameters/ListingId"}], "requestBody": {"content": {"application/json": {"schema": {"type": "object", "oneOf": [{"$ref": "#/components/schemas/BaseProfileRequestBody"}, {"$ref": "#/components/schemas/SeasonProfileRequestBody"}]}}}}, "responses": {"201": {"description": "Created", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Profile"}}}}, "404": {"$ref": "#/components/responses/NotFound"}, "409": {"$ref": "#/components/responses/Conflict"}, "422": {"$ref": "#/components/responses/UnprocessableEntity"}}}}, "/listings/{listingId}/profiles/base": {"get": {"tags": ["listing profile"], "operationId": "listings.profiles.base", "summary": "Show base profile of a listing", "description": "Show base profile of a listing.", "parameters": [{"$ref": "#/components/parameters/ListingId"}], "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseProfile"}}}}, "404": {"$ref": "#/components/responses/NotFound"}}}}, "/listings/{listingId}/profiles/validate-period": {"post": {"tags": ["listing profile"], "operationId": "listings.profiles.validate_period", "summary": "Validate given period for availability", "description": "Validate a given period for availability.", "parameters": [{"$ref": "#/components/parameters/ListingId"}], "requestBody": {"content": {"application/json": {"schema": {"type": "object", "required": ["from", "to"], "properties": {"from": {"$ref": "#/components/schemas/Date"}, "to": {"$ref": "#/components/schemas/Date"}, "profile_id": {"$ref": "#/components/schemas/PrimaryKey"}}}}}}, "responses": {"204": {"$ref": "#/components/responses/NoContent"}, "409": {"$ref": "#/components/responses/Conflict"}}}}, "/listings/{listingId}/profiles/{profileId}": {"get": {"tags": ["listing profile"], "operationId": "listings.profiles.show", "summary": "Show a profile of a listing", "description": "Show a specific profile of a listing.", "parameters": [{"$ref": "#/components/parameters/ListingId"}, {"$ref": "#/components/parameters/ProfileId"}], "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Profile"}}}}, "401": {"$ref": "#/components/responses/Unauthorized"}, "404": {"$ref": "#/components/responses/NotFound"}}}, "patch": {"tags": ["listing profile"], "operationId": "listings.profiles.update", "summary": "Update profile of a listing", "description": "Update a new profile of a listing.", "parameters": [{"$ref": "#/components/parameters/ListingId"}, {"$ref": "#/components/parameters/ProfileId"}], "requestBody": {"content": {"application/json": {"schema": {"type": "object", "properties": {"season_id": {"$ref": "#/components/schemas/PrimaryKey"}, "from": {"$ref": "#/components/schemas/DateTime"}, "to": {"$ref": "#/components/schemas/DateTime"}, "persons": {"$ref": "#/components/schemas/Integer"}, "price": {"$ref": "#/components/schemas/Price"}, "price_per_additional_adult": {"$ref": "#/components/schemas/Price"}, "price_per_additional_child": {"$ref": "#/components/schemas/Price"}, "minimum_stay": {"$ref": "#/components/schemas/Integer"}, "arrival_days": {"$ref": "#/components/schemas/Weekdays"}, "departure_days": {"$ref": "#/components/schemas/Weekdays"}}}}}}, "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Profile"}}}}, "401": {"$ref": "#/components/responses/Unauthorized"}, "404": {"$ref": "#/components/responses/NotFound"}, "409": {"$ref": "#/components/responses/Conflict"}, "422": {"$ref": "#/components/responses/UnprocessableEntity"}}}, "delete": {"tags": ["listing profile"], "operationId": "listings.profiles.destroy", "summary": "Delete specific profile from a listing", "description": "Delete a specific profile from a listing.", "parameters": [{"$ref": "#/components/parameters/ListingId"}, {"$ref": "#/components/parameters/ProfileId"}], "responses": {"204": {"$ref": "#/components/responses/NoContent"}, "401": {"$ref": "#/components/responses/Unauthorized"}, "404": {"$ref": "#/components/responses/NotFound"}, "409": {"$ref": "#/components/responses/Conflict"}}}}, "/listings/{listingId}/profiles/{profileId}/discounts": {"get": {"tags": ["listing profile discount"], "operationId": "listings.profiles.discounts.index", "summary": "Show profile discounts", "description": "Show all available discounts of a profile", "parameters": [{"$ref": "#/components/parameters/ListingId"}, {"$ref": "#/components/parameters/ProfileId"}], "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"type": "object", "properties": {"amount_based": {"type": "array", "items": {"$ref": "#/components/schemas/AmountBasedDiscount"}}, "weekday_based": {"type": "array", "items": {"$ref": "#/components/schemas/WeekdayBasedDiscount"}}}}}}}, "401": {"$ref": "#/components/responses/Unauthorized"}}}}, "/listings/{listingId}/profiles/{profileId}/discounts/amount-based": {"post": {"tags": ["listing profile discount"], "operationId": "listings.profiles.discounts.amount.store", "summary": "Create new amount-based discount", "description": "Create a new amount-based discount for a profile", "parameters": [{"$ref": "#/components/parameters/ListingId"}, {"$ref": "#/components/parameters/ProfileId"}], "requestBody": {"content": {"application/json": {"schema": {"type": "object", "required": ["type", "amount", "discount"], "properties": {"type": {"$ref": "#/components/schemas/AmountBasedDiscountType"}, "amount": {"$ref": "#/components/schemas/Amount"}, "discount": {"$ref": "#/components/schemas/Percentage"}}}}}}, "responses": {"201": {"description": "Created", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AmountBasedDiscount"}}}}, "401": {"$ref": "#/components/responses/Unauthorized"}, "409": {"$ref": "#/components/responses/Conflict"}, "422": {"$ref": "#/components/responses/UnprocessableEntity"}}}}, "/listings/{listingId}/profiles/{profileId}/discounts/amount-based/{type}": {"get": {"tags": ["listing profile discount"], "operationId": "listings.profiles.discounts.amount.show", "summary": "Show an amount-based discount", "description": "Show an amount-based discount of a profile", "parameters": [{"$ref": "#/components/parameters/ListingId"}, {"$ref": "#/components/parameters/ProfileId"}, {"$ref": "#/components/parameters/AmountBasedDiscountType"}], "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AmountBasedDiscount"}}}}, "401": {"$ref": "#/components/responses/Unauthorized"}}}, "patch": {"tags": ["listing profile discount"], "operationId": "listings.profiles.discounts.amount.update", "summary": "Patch amount-based discount", "description": "Patch an amount-based discount of a profile", "parameters": [{"$ref": "#/components/parameters/ListingId"}, {"$ref": "#/components/parameters/ProfileId"}, {"$ref": "#/components/parameters/AmountBasedDiscountType"}], "requestBody": {"content": {"application/json": {"schema": {"type": "object", "properties": {"active": {"$ref": "#/components/schemas/Boolean"}, "amount": {"$ref": "#/components/schemas/Amount"}, "discount": {"$ref": "#/components/schemas/Percentage"}}}}}}, "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AmountBasedDiscount"}}}}, "401": {"$ref": "#/components/responses/Unauthorized"}, "422": {"$ref": "#/components/responses/UnprocessableEntity"}}}}, "/listings/{listingId}/profiles/{profileId}/discounts/weekday-based": {"post": {"tags": ["listing profile discount"], "operationId": "listings.profiles.discounts.weekday.store", "summary": "Create new weekday-based discount", "description": "Create a new weekday-based discount for a profile", "parameters": [{"$ref": "#/components/parameters/ListingId"}, {"$ref": "#/components/parameters/ProfileId"}], "requestBody": {"content": {"application/json": {"schema": {"type": "object", "required": ["type", "discount", "weekdays"], "properties": {"type": {"$ref": "#/components/schemas/WeekdayBasedDiscountType"}, "discount": {"$ref": "#/components/schemas/Percentage"}, "weekdays": {"$ref": "#/components/schemas/Weekdays"}}}}}}, "responses": {"201": {"description": "Created", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WeekdayBasedDiscount"}}}}, "401": {"$ref": "#/components/responses/Unauthorized"}, "409": {"$ref": "#/components/responses/Conflict"}, "422": {"$ref": "#/components/responses/UnprocessableEntity"}}}}, "/listings/{listingId}/profiles/{profileId}/discounts/weekday-based/{type}": {"get": {"tags": ["listing profile discount"], "operationId": "listings.profiles.discounts.weekday.show", "summary": "Show amount-based discount", "description": "Show a weekday-based discount of a profile", "parameters": [{"$ref": "#/components/parameters/ListingId"}, {"$ref": "#/components/parameters/ProfileId"}, {"$ref": "#/components/parameters/WeekdayBasedDiscountType"}], "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WeekdayBasedDiscount"}}}}, "401": {"$ref": "#/components/responses/Unauthorized"}}}, "patch": {"tags": ["listing profile discount"], "operationId": "listings.profiles.discounts.weekday.update", "summary": "Create new weekday-based discount", "description": "Create a new weekday-based discount for a profile", "parameters": [{"$ref": "#/components/parameters/ListingId"}, {"$ref": "#/components/parameters/ProfileId"}, {"$ref": "#/components/parameters/WeekdayBasedDiscountType"}], "requestBody": {"content": {"application/json": {"schema": {"type": "object", "properties": {"active": {"$ref": "#/components/schemas/Boolean"}, "discount": {"$ref": "#/components/schemas/Percentage"}, "weekdays": {"$ref": "#/components/schemas/Weekdays"}}}}}}, "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WeekdayBasedDiscount"}}}}, "401": {"$ref": "#/components/responses/Unauthorized"}, "422": {"$ref": "#/components/responses/UnprocessableEntity"}}}}, "/listings/{listingId}/visitors-tax": {"get": {"tags": ["listing visitors-tax"], "operationId": "listings.visitors_tax.index", "summary": "Show visitors taxes of a listing", "description": "Show all visitors taxes of a listing.", "parameters": [{"$ref": "#/components/parameters/ListingId"}], "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/VisitorsTax"}}}}}, "404": {"$ref": "#/components/responses/NotFound"}}}, "post": {"tags": ["listing visitors-tax"], "operationId": "listings.visitors_tax.create", "summary": "Create visitors tax for a listing", "description": "Create a new visitors tax for a listing.", "parameters": [{"$ref": "#/components/parameters/ListingId"}], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/VisitorsTaxRequestBody"}}}}, "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/VisitorsTax"}}}}, "404": {"$ref": "#/components/responses/NotFound"}, "409": {"$ref": "#/components/responses/Conflict"}, "422": {"$ref": "#/components/responses/UnprocessableEntity"}}}}, "/listings/{listingId}/visitors-tax/{visitorsTaxId}": {"get": {"tags": ["listing visitors-tax"], "operationId": "listings.visitors_tax.show", "summary": "Show visitors tax of a listing", "description": "Show a specific visitors tax of a listing.", "parameters": [{"$ref": "#/components/parameters/ListingId"}, {"$ref": "#/components/parameters/VisitorsTaxId"}], "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/VisitorsTax"}}}}, "404": {"$ref": "#/components/responses/NotFound"}}}, "put": {"tags": ["listing visitors-tax"], "operationId": "listings.visitors_tax.update", "summary": "Update visitors tax of a listing", "description": "Update a specific visitors tax of a listing.", "parameters": [{"$ref": "#/components/parameters/ListingId"}, {"$ref": "#/components/parameters/VisitorsTaxId"}], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/VisitorsTaxRequestBody"}}}}, "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/VisitorsTax"}}}}, "404": {"$ref": "#/components/responses/NotFound"}, "409": {"$ref": "#/components/responses/Conflict"}, "422": {"$ref": "#/components/responses/UnprocessableEntity"}}}, "delete": {"tags": ["listing visitors-tax"], "operationId": "listings.visitors_tax.delete", "summary": "Delete visitors tax from a listing", "description": "Delete a specific visitors tax from a listing.", "parameters": [{"$ref": "#/components/parameters/ListingId"}, {"$ref": "#/components/parameters/VisitorsTaxId"}], "responses": {"204": {"$ref": "#/components/responses/NoContent"}, "404": {"$ref": "#/components/responses/NotFound"}}}}, "/seasons": {"get": {"tags": ["season"], "operationId": "seasons.index", "summary": "Show seasons", "description": "Show a list of all available seasons.", "responses": {"200": {"description": "Success", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/Season"}}}}}}}}}, "components": {"responses": {"Success": {"description": "Success", "content": {"application/json": {"schema": {"nullable": true}}}}, "NoContent": {"description": "No Content", "content": {"application/json": {"schema": {"nullable": true}}}}, "Unauthorized": {"description": "Unauthorized", "content": {"application/json": {"schema": {"type": "object", "properties": {"message": {"type": "string", "example": "Unauthorized."}}}}}}, "NotFound": {"description": "Not Found", "content": {"application/json": {"schema": {"type": "object", "properties": {"message": {"type": "string", "example": "The requested resource does not exist."}}}}}}, "Conflict": {"description": "Conflict", "content": {"application/json": {"schema": {"type": "object", "properties": {"message": {"type": "string", "example": "The given period overlaps with one or more existing profiles."}}}}}}, "UnprocessableEntity": {"description": "Unprocessable Entity", "content": {"application/json": {"schema": {"type": "object", "properties": {"message": {"type": "string", "example": "The given data was invalid."}, "errors": {"$ref": "#/components/schemas/PropertyValidationError"}}}}}}, "Locked": {"description": "Locked", "content": {"application/json": {"schema": {"nullable": true}}}}}, "parameters": {"AmountBasedDiscountType": {"name": "type", "in": "path", "description": "Type of the requested amount-based discount.", "schema": {"type": "string", "enum": ["long-visit-discount", "short-visit-surcharge", "group-discount"], "example": "long-visit-discount"}, "required": true}, "ChargeType": {"name": "type", "in": "path", "description": "Type of the requested charge.", "schema": {"type": "string", "enum": ["electricity", "water", "gas", "heating", "bedding", "towels", "final-cleaning", "internet", "parking-space", "highchair", "pet", "baby-cot", "booking-fee"], "example": "electricity"}, "required": true}, "ListingId": {"name": "listingId", "in": "path", "description": "Id of the requested listing.", "schema": {"$ref": "#/components/schemas/PrimaryKey"}, "required": true}, "ProfileId": {"name": "profileId", "in": "path", "description": "Id of the requested profile.", "schema": {"$ref": "#/components/schemas/PrimaryKey"}, "required": true}, "VisitorsTaxId": {"name": "visitorsTaxId", "in": "path", "description": "Id of the requested visitors tax.", "schema": {"$ref": "#/components/schemas/PrimaryKey"}, "required": true}, "WeekdayBasedDiscountType": {"name": "type", "in": "path", "description": "Type of the requested weekday-based discount.", "schema": {"type": "string", "enum": ["weekend-surcharge"], "example": "weekend-surcharge"}, "required": true}}, "schemas": {"Amount": {"type": "number", "format": "float", "minimum": 1, "example": 5}, "AmountBasedDiscountType": {"type": "string", "enum": ["LONG_VISIT_DISCOUNT", "SHORT_VISIT_SURCHARGE", "GROUP_DISCOUNT"], "example": "LONG_VISIT_DISCOUNT"}, "Boolean": {"type": "boolean", "example": true}, "Calculation": {"type": "object", "properties": {"nights": {"$ref": "#/components/schemas/PrimaryKey"}, "base_price": {"$ref": "#/components/schemas/Price"}, "additional_persons": {"type": "object", "properties": {"count": {"$ref": "#/components/schemas/Integer"}, "price": {"$ref": "#/components/schemas/Price"}}}, "surcharges_discounts": {"type": "object", "properties": {"long_visit_discount": {"type": "object", "properties": {"price": {"$ref": "#/components/schemas/Price"}, "percentage": {"$ref": "#/components/schemas/Percentage"}}}}}, "subtotal": {"$ref": "#/components/schemas/Price"}, "charges": {"type": "array", "items": {"type": "object", "properties": {"type": {"$ref": "#/components/schemas/ChargeType"}, "price": {"$ref": "#/components/schemas/Price"}}}}, "booking_price": {"$ref": "#/components/schemas/Price"}, "on_site": {"type": "array", "items": {"type": "object", "properties": {"type": {"$ref": "#/components/schemas/ChargeType"}, "price": {"$ref": "#/components/schemas/Price"}}}}, "total": {"$ref": "#/components/schemas/Price"}}}, "Capacity": {"type": "integer", "example": 5}, "CurrencyShortcut": {"type": "string", "pattern": "^[A-Z]{3,3}$", "example": "EUR"}, "Date": {"type": "string", "format": "date", "example": "2018-08-08"}, "DateTime": {"type": "string", "format": "dateTime", "example": "2018-08-08 08:08:08"}, "YearIndependentDate": {"type": "string", "format": "date", "example": "12-31"}, "ChargeBilling": {"type": "string", "enum": ["INCLUSIVE", "ONCE", "PER_PERSON", "PER_NIGHT", "BY_USAGE"], "example": "PER_PERSON"}, "ChargeType": {"type": "string", "enum": ["ELECTRICITY", "WATER", "GAS", "HEATING", "BEDDING", "TOWELS", "FINAL_CLEANING", "INTERNET", "PARKING_SPACE", "HIGHCHAIR", "PET", "BABY_COT", "BOOKING_FEE"], "example": "ELECTRICITY"}, "Integer": {"type": "integer", "example": 3}, "Percentage": {"type": "number", "format": "double", "minimum": 0.01, "example": 12.34}, "Persons": {"type": "integer", "example": 3, "nullable": true}, "Price": {"type": "number", "format": "double", "example": 1234.56}, "PrimaryKey": {"type": "integer", "example": 3}, "PropertyValidationError": {"type": "object", "properties": {"field": {"type": "array", "items": {"type": "string"}}}}, "VAT": {"type": "number", "format": "double", "minimum": 0, "maximum": 100, "example": 19.9, "nullable": true}, "Weekday": {"type": "string", "enum": ["MON", "TUE", "WED", "THU", "FRI", "SAT", "SUN"], "example": "MON"}, "WeekdayBasedDiscountType": {"type": "string", "enum": ["WEEKEND_SURCHARGE"], "example": "WEEKEND_SURCHARGE"}, "BaseProfileRequestBody": {"type": "object", "description": "Request body to create a new base profile for a listing.", "required": ["persons", "price", "minimum_stay", "arrival_days", "departure_days"], "properties": {"persons": {"$ref": "#/components/schemas/Integer"}, "price": {"$ref": "#/components/schemas/Price"}, "price_per_additional_adult": {"$ref": "#/components/schemas/Price"}, "price_per_additional_child": {"$ref": "#/components/schemas/Price"}, "minimum_stay": {"$ref": "#/components/schemas/Integer"}, "arrival_days": {"$ref": "#/components/schemas/Weekdays"}, "departure_days": {"$ref": "#/components/schemas/Weekdays"}}}, "EventRequestBody": {"type": "object", "required": ["message", "subscription"], "properties": {"message": {"type": "object", "required": ["data"], "properties": {"data": {"type": "string", "example": "ewoJImlkIjogIjdlMTBhNWJiLWVkMWQtNGE1MS1hM2E3LTM4ZGQ2N2U5MmE3ZSIsCgkidHlwZSI6ICJldmVudF9uYW1lIiwKCSJ2ZXJzaW9uIjoiMC4xLjAiLAoJImJvZHkiOiAiUHV0IHlvdXIgZXZlbnQgYm9keSBoZXJlIgp9"}}}, "subscription": {"type": "string", "example": "projects/event/subscriptions/my-event-subscriber"}}}, "SeasonProfileRequestBody": {"type": "object", "description": "Request body to create a new seasonal profile for a listing.", "required": ["season_id", "from", "to", "price", "minimum_stay", "arrival_days", "departure_days"], "properties": {"season_id": {"$ref": "#/components/schemas/PrimaryKey"}, "from": {"$ref": "#/components/schemas/DateTime"}, "to": {"$ref": "#/components/schemas/DateTime"}, "price": {"$ref": "#/components/schemas/Price"}, "price_per_additional_adult": {"$ref": "#/components/schemas/Price"}, "price_per_additional_child": {"$ref": "#/components/schemas/Price"}, "minimum_stay": {"$ref": "#/components/schemas/Integer"}, "arrival_days": {"$ref": "#/components/schemas/Weekdays"}, "departure_days": {"$ref": "#/components/schemas/Weekdays"}}}, "VisitorsTaxRequestBody": {"type": "object", "description": "Request body to create or update a visitors tax for a listing.", "required": ["from", "to", "adults"], "properties": {"from": {"$ref": "#/components/schemas/YearIndependentDate"}, "to": {"$ref": "#/components/schemas/YearIndependentDate"}, "adults": {"type": "object", "required": ["price", "age_from"], "properties": {"price": {"$ref": "#/components/schemas/Price"}, "age_from": {"$ref": "#/components/schemas/Integer"}}}, "children": {"type": "object", "required": ["price", "age_from"], "properties": {"price": {"$ref": "#/components/schemas/Price"}, "age_from": {"$ref": "#/components/schemas/Integer"}}}}}, "AmountBasedDiscount": {"type": "object", "properties": {"type": {"$ref": "#/components/schemas/AmountBasedDiscountType"}, "amount": {"$ref": "#/components/schemas/Amount"}, "discount": {"$ref": "#/components/schemas/Percentage"}, "active": {"$ref": "#/components/schemas/Boolean"}, "created_at": {"$ref": "#/components/schemas/DateTime"}, "updated_at": {"$ref": "#/components/schemas/DateTime"}}}, "BaseProfile": {"type": "object", "properties": {"id": {"$ref": "#/components/schemas/PrimaryKey"}, "persons": {"$ref": "#/components/schemas/Persons"}, "price": {"$ref": "#/components/schemas/Price"}, "price_per_additional_adult": {"$ref": "#/components/schemas/Price"}, "price_per_additional_child": {"$ref": "#/components/schemas/Price"}, "minimum_stay": {"$ref": "#/components/schemas/Integer"}, "arrival_days": {"$ref": "#/components/schemas/Weekdays"}, "departure_days": {"$ref": "#/components/schemas/Weekdays"}, "created_at": {"$ref": "#/components/schemas/DateTime"}, "updated_at": {"$ref": "#/components/schemas/DateTime"}}}, "Charge": {"type": "object", "properties": {"type": {"$ref": "#/components/schemas/ChargeType"}, "billing": {"$ref": "#/components/schemas/ChargeBilling"}, "price": {"$ref": "#/components/schemas/Price"}, "on_site": {"$ref": "#/components/schemas/Boolean"}, "optional": {"$ref": "#/components/schemas/Boolean"}, "created_at": {"$ref": "#/components/schemas/DateTime"}, "updated_at": {"$ref": "#/components/schemas/DateTime"}}}, "ChargeSetup": {"type": "object", "properties": {"type": {"$ref": "#/components/schemas/ChargeType"}, "billing": {"type": "array", "items": {"$ref": "#/components/schemas/ChargeBilling"}}, "on_site": {"$ref": "#/components/schemas/Boolean"}, "optional": {"$ref": "#/components/schemas/Boolean"}, "created_at": {"$ref": "#/components/schemas/DateTime"}, "updated_at": {"$ref": "#/components/schemas/DateTime"}}}, "Listing": {"type": "object", "properties": {"id": {"$ref": "#/components/schemas/PrimaryKey"}, "currency": {"$ref": "#/components/schemas/CurrencyShortcut"}, "capacity": {"$ref": "#/components/schemas/Capacity"}, "vat": {"$ref": "#/components/schemas/VAT"}, "show_vat": {"$ref": "#/components/schemas/Boolean"}, "visitors_tax_on_site": {"$ref": "#/components/schemas/Boolean"}, "pets_allowed": {"$ref": "#/components/schemas/Boolean"}, "created_at": {"$ref": "#/components/schemas/DateTime"}, "updated_at": {"$ref": "#/components/schemas/DateTime"}}}, "Profile": {"type": "object", "oneOf": [{"$ref": "#/components/schemas/BaseProfile"}, {"$ref": "#/components/schemas/SeasonalProfile"}]}, "Season": {"type": "object", "properties": {"id": {"$ref": "#/components/schemas/PrimaryKey"}, "name": {"type": "string", "example": "Easter"}, "created_at": {"$ref": "#/components/schemas/DateTime"}, "updated_at": {"$ref": "#/components/schemas/DateTime"}}}, "SeasonalProfile": {"type": "object", "properties": {"id": {"$ref": "#/components/schemas/PrimaryKey"}, "season_id": {"type": "integer", "example": 3, "nullable": true}, "from": {"$ref": "#/components/schemas/Date"}, "to": {"$ref": "#/components/schemas/Date"}, "price": {"$ref": "#/components/schemas/Price"}, "price_per_additional_adult": {"$ref": "#/components/schemas/Price"}, "price_per_additional_child": {"$ref": "#/components/schemas/Price"}, "minimum_stay": {"$ref": "#/components/schemas/Integer"}, "arrival_days": {"$ref": "#/components/schemas/Weekdays"}, "departure_days": {"$ref": "#/components/schemas/Weekdays"}, "created_at": {"$ref": "#/components/schemas/DateTime"}, "updated_at": {"$ref": "#/components/schemas/DateTime"}}}, "WeekdayBasedDiscount": {"type": "object", "properties": {"type": {"$ref": "#/components/schemas/WeekdayBasedDiscountType"}, "discount": {"$ref": "#/components/schemas/Percentage"}, "weekdays": {"$ref": "#/components/schemas/Weekdays"}, "active": {"$ref": "#/components/schemas/Boolean"}, "created_at": {"$ref": "#/components/schemas/DateTime"}, "updated_at": {"$ref": "#/components/schemas/DateTime"}}}, "Weekdays": {"type": "array", "items": {"$ref": "#/components/schemas/Weekday"}}, "VisitorsTax": {"type": "object", "properties": {"id": {"$ref": "#/components/schemas/PrimaryKey"}, "from": {"$ref": "#/components/schemas/YearIndependentDate"}, "to": {"$ref": "#/components/schemas/YearIndependentDate"}, "adults": {"$ref": "#/components/schemas/VisitorsTaxPrice"}, "children": {"$ref": "#/components/schemas/VisitorsTaxPrice"}}}, "VisitorsTaxPrice": {"type": "object", "properties": {"price": {"$ref": "#/components/schemas/Price"}, "age_from": {"$ref": "#/components/schemas/Integer"}}}}}};

  // Build a system
  const ui = SwaggerUIBundle({
    spec: spec,
    dom_id: '#swagger-ui',
    deepLinking: true,
    presets: [
      SwaggerUIBundle.presets.apis,
      SwaggerUIStandalonePreset
    ],
    plugins: [
      SwaggerUIBundle.plugins.DownloadUrl
    ],
    layout: "StandaloneLayout"
  })

  window.ui = ui
}
</script>
</body>

</html>
